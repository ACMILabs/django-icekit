{% comment %}
    Consumes a `pagination` object generated by `describe_page_numbers` and outputs an aria-sane and
    bootstrap-styled pagination.
    Note: you'll need to define a `PAGE_PARAM` variable, something like `'page'` will do fabulously
{% endcomment %}

{% load icekit_tags %}

{% if pagination %}
    <nav aria-label="Page navigation">
        <ul class="pagination ik-pagination"> {# `pagination` class is styled by bootstrap #}
            {% if pagination.has_previous %}
                <li class="ik-pagination-item ik-pagination-item--previous">
                    <a
                        class="ik-pagination-link"
                        href="?{% update_GET PAGE_PARAM = pagination.previous_page %}"
                        aria-label="Previous"
                    >
                        <span
                            class="ik-pagination-text"
                            aria-hidden="true"
                        >&laquo;</span>
                    </a>
                </li>
            {% endif %}
            {% for page_number in pagination.numbers %}
                <li
                    {% if page_number == pagination.current_page %}
                        class="ik-pagination-item ik-pagination--active active" {# `active` class is styled by bootstrap #}
                    {% else %}
                        class="ik-pagination-item ik-pagination--inactive"
                    {% endif %}
                >
                    {% if page_number %}
                        <a
                            class="ik-pagination-link"
                            href="?{% update_GET PAGE_PARAM = page_number %}"
                            aria-label="{{ page_number }}"
                        >
                            <span
                                class="ik-pagination-text"
                                aria-hidden="true"
                            >{{ page_number }}</span>
                        </a>
                    {% else %}
                        <a class="ik-pagination-link">
                            <span
                                class="ik-pagination-text ik-pagination-text--out-of-bounds"
                            >&hellip;</span>
                        </a>
                    {% endif %}
                </li>
            {% endfor %}
            {% if pagination.has_next %}
                <li class="ik-pagination-item ik-pagination-item--next">
                    <a
                        class="ik-pagination-link"
                        href="?{% update_GET PAGE_PARAM = pagination.next_page %}"
                        aria-label="Next"
                    >
                        <span
                            class="ik-pagination-text"
                            aria-hidden="true"
                        >&raquo;</span>
                    </a>
                </li>
            {% endif %}
        </ul>
    </nav>
{% endif %}
